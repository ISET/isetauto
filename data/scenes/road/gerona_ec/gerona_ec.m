function [allData, scenario, sensor] = gerona_ec()
%gerona_ec_dsd - Returns sensor detections
%    allData = gerona_ec_dsd returns sensor detections in a structure
%    with time for an internally defined scenario and sensor suite.
%
%    [allData, scenario, sensors] = gerona_ec_dsd optionally returns
%    the drivingScenario and detection generator objects.

% Generated by MATLAB(R) 9.14 (R2023a) and Automated Driving Toolbox 3.7 (R2023a).
% Generated on: 16-Jun-2023 08:04:48

% Create the drivingScenario object and ego car
[scenario, egoVehicle] = createDrivingScenario;

% Create all the sensors
sensor = createSensor(scenario);

allData = struct('Time', {}, 'ActorPoses', {}, 'ObjectDetections', {}, 'LaneDetections', {}, 'PointClouds', {}, 'INSMeasurements', {});
running = true;
while running

    % Generate the target poses of all actors relative to the ego vehicle
    poses = targetPoses(egoVehicle);
    time  = scenario.SimulationTime;

    % Generate detections for the sensor
    laneDetections = [];
    ptClouds = [];
    insMeas = [];
    [objectDetections, isValidTime] = sensor(poses, time);
    numObjects = length(objectDetections);
    objectDetections = objectDetections(1:numObjects);

    % Aggregate all detections into a structure for later use
    if isValidTime
        allData(end + 1) = struct( ...
            'Time',       scenario.SimulationTime, ...
            'ActorPoses', actorPoses(scenario), ...
            'ObjectDetections', {objectDetections}, ...
            'LaneDetections', {laneDetections}, ...
            'PointClouds',   {ptClouds}, ... %#ok<AGROW>
            'INSMeasurements',   {insMeas}); %#ok<AGROW>
    end

    % Advance the scenario one time step and exit the loop if the scenario is complete
    running = advance(scenario);
end

% Restart the driving scenario to return the actors to their initial positions.
restart(scenario);

% Release the sensor object so it can be used again.
release(sensor);

%%%%%%%%%%%%%%%%%%%%
% Helper functions %
%%%%%%%%%%%%%%%%%%%%

% Units used in createSensors and createDrivingScenario
% Distance/Position - meters
% Speed             - meters/second
% Angles            - degrees
% RCS Pattern       - dBsm

function sensor = createSensor(scenario)
% createSensors Returns all sensor objects to generate detections

% Assign into each sensor the physical and radar profiles for all actors
profiles = actorProfiles(scenario);
sensor = visionDetectionGenerator('SensorIndex', 1, ...
    'SensorLocation', [1.9 0], ...
    'DetectorOutput', 'Objects only', ...
    'Intrinsics', cameraIntrinsics([800 800],[320 240],[480 640]), ...
    'ActorProfiles', profiles);

function [scenario, egoVehicle] = createDrivingScenario
% createDrivingScenario Returns the drivingScenario defined in the Designer

% Construct a drivingScenario object.
scenario = ia_drivingScenario('GeographicReference', [37.419125 -122.173455 0]);

% Add all road segments
roadCenters = [8.3296644917826 136.05715995438 0;
    8.4243805923529 135.24696933851 0;
    9.0857347652163 129.58982191172 0;
    9.175034334827 126.31263075812 0;
    9.0765911620278 124.7241381464 0;
    9.0698748042853 124.61595202447 0;
    8.5686860853524 116.5570016823 0;
    6.5299089782953 100.46134024443 0;
    4.8028146856377 91.475213336666 0;
    2.8901749236732 76.097222680791 0;
    2.8011008823542 74.552487103093 0;
    1.774826833633 62.162989608374 0;
    1.6116578526934 60.653704395075 0;
    -0.24785723458669 51.480632839597 0;
    -3.487261345168 42.674933718574 0;
    -3.4876997307709 42.673932494017 0;
    -6.3653317907828 33.772657429466 0;
    -6.6168992475209 32.60754757669 0;
    -8.3383839144533 20.973911760477 0;
    -8.4304190490039 19.84247050811 0;
    -8.9477934771301 12.346434881944 0];
headings = [-83.3320497165168;-83.3320497165168;-83.3320497165168;-93.5462387641037;-93.5462387641037;-93.5586598476257;-93.5586598476257;-100.87933502998;-100.87933502998;-93.3001903235349;-93.3001903235348;-96.1702881137505;-96.1702881137505;-106.748520772689;-113.646180048202;-113.646180048202;-102.184109887695;-102.184109887695;-94.6503874805404;-94.6503874805404;-93.2461689843515];
marking = [laneMarking('Solid', 'Width', 0.125)
    laneMarking('DoubleSolid', 'Color', [0.98 0.86 0.36], 'Width', 0.125)
    laneMarking('Solid', 'Width', 0.125)];
lanetypes = [laneType('Driving')
    laneType('Driving')];
laneSpecification = lanespec([1 1], 'Width', 3.5, 'Marking', marking, 'Type', lanetypes);
road(scenario, roadCenters, 'Heading', headings, 'Lanes', laneSpecification, 'Name', 'gerona_ec');

roadCenters = [-0.44523547773319 -6.9091326495551 0;
    20.455842402591 -5.6308109554661 0;
    38.670801657766 -4.1822668877055 0;
    46.009307789945 -3.4635128111938 0;
    65.658349873948 -0.98832124878702 0;
    73.026033996464 0.14772791347446 0;
    77.874726498304 0.87104785383182 0;
    81.984054884136 1.4634918048981 0;
    95.020687717532 3.5608916244297 0;
    104.08589932265 5.1716687609583 0;
    111.94505984932 6.6330483666693 0;
    127.45240059784 9.6450215600305 0;
    153.25003869791 15.36697534419 0;
    156.44103443615 16.163764683992 0;
    188.01035050612 25.683553400884 0;
    206.66850009272 32.305981493476 0;
    225.01992018772 39.693867507165 0;
    242.8303385346 48.327476007813 0;
    254.55853773739 54.408838902248 0;
    271.81521984474 64.086874692722 0;
    288.24812773334 75.087242359946 0;
    300.1939381124 83.9058975566 0;
    312.54170862809 94.784693253443 0;
    314.08299991555 96.399067941973 0;
    322.30054103634 105.21664108069 0;
    359.93316952208 146.58584431478 0;
    360.52382132081 147.23628959729 0;
    364.88453451521 152.04693698813 0];
headings = [3.49988258311305;3.49988258311305;5.59386950629669;5.59386950629669;8.76560378534946;8.76560378534949;8.20383389572528;8.20383389572533;10.0755982380984;10.0755982380984;10.9916385719699;10.9916385719699;14.0200258876883;14.0200258876883;19.5415487651674;19.5415487651673;24.3157565253655;27.4078619606884;27.4078619606885;31.1620222432188;36.4355444075618;36.4355444075618;46.3266999937389;46.3266999937389;47.7079186628217;47.7079186628217;47.8085995142366;47.8085995142366];
marking = [laneMarking('Solid', 'Width', 0.125)
    laneMarking('DoubleSolid', 'Color', [0.98 0.86 0.36], 'Width', 0.125)
    laneMarking('Solid', 'Width', 0.125)];
lanetypes = [laneType('Driving')
    laneType('Driving')];
laneSpecification = lanespec([1 1], 'Width', 3.5, 'Marking', marking, 'Type', lanetypes);
road(scenario, roadCenters, 'Heading', headings, 'Lanes', laneSpecification, 'Name', 'Road1');

roadCenters = [-29.654055052484 -2.2592832331328 0;
    -29.645610074377 -1.5493334586102 0;
    -29.63716509627 -0.83938368408752 0];
headings = [89.3184887135062;89.3184887135062;89.3184887135062];
marking = [laneMarking('Solid', 'Width', 0.125)
    laneMarking('DoubleSolid', 'Color', [0.98 0.86 0.36], 'Width', 0.125)
    laneMarking('Solid', 'Width', 0.125)];
lanetypes = [laneType('Driving')
    laneType('Driving')];
laneSpecification = lanespec([1 1], 'Width', 3.5, 'Marking', marking, 'Type', lanetypes);
road(scenario, roadCenters, 'Heading', headings, 'Lanes', laneSpecification, 'Name', 'Road2');

roadCenters = [-160.53187627395 23.896725353006 0;
    -159.75129794651 23.568141612841 0;
    -155.36687849303 21.722524213758 0;
    -150.09815251407 19.469030276342 0;
    -142.04621324521 15.970407513779 0;
    -120.27137423434 7.7952364580216 0;
    -116.23726897853 6.5100286578694 0;
    -93.768342006016 0.43532115564826 0;
    -70.843966366818 -3.5818915768533 0;
    -54.242637541777 -5.7063330553477 0;
    -39.035928618967 -6.6743847047858 0;
    -36.702053941207 -6.6740837205315 0];
headings = [-22.8286150814895;-22.8286150814895;-22.8286150814897;-23.4852763869907;-23.4852763869907;-17.6711293480677;-17.6711293480677;-12.5865073214375;-7.2924013269881;-7.2924013269881;0.00738905457852781;0.00738905457852781];
marking = [laneMarking('Solid', 'Width', 0.125)
    laneMarking('DoubleSolid', 'Color', [0.98 0.86 0.36], 'Width', 0.125)
    laneMarking('Solid', 'Width', 0.125)];
lanetypes = [laneType('Driving')
    laneType('Driving')];
laneSpecification = lanespec([1 1], 'Width', 3.5, 'Marking', marking, 'Type', lanetypes);
road(scenario, roadCenters, 'Heading', headings, 'Lanes', laneSpecification, 'Name', 'Road3');

roadCenters = [-11.308877824751 -14.361780618768 0;
    -15.654134929601 -36.52019809588 0;
    -17.039862094078 -43.335306083411 0;
    -21.740877920606 -65.658996231338 0;
    -38.860401726214 -114.92822492052 0;
    -51.894841407721 -141.15183374913 0;
    -58.438050996912 -155.88448004834 0;
    -60.639944415576 -161.48427915146 0;
    -61.576237165157 -165.43475918737 0;
    -61.710322287897 -169.52681238402 0;
    -61.687582740912 -170.42623073636 0;
    -61.306303403842 -173.59219434042 0;
    -61.285287989016 -173.68869357692 0;
    -60.24847951184 -176.47782461245 0;
    -60.180845315943 -176.60240445641 0;
    -58.743612473676 -178.90841742982 0;
    -56.919785143983 -180.90101507223 0;
    -56.132212774316 -181.57208683929 0;
    -52.25139372568 -184.3536372974 0;
    -51.918454957503 -184.55232980415 0;
    -48.058975127103 -186.43330133205 0;
    -47.978325556323 -186.464482558 0;
    -44.04005116758 -187.69855800178 0;
    -39.990527884006 -188.52539956291 0;
    -37.582324270706 -188.92497820801 0;
    -28.647525910503 -190.11339738885 0;
    15.812462204074 -194.57616574002 0;
    33.603264825927 -197.53746506557 0;
    42.236261521154 -199.55732914907 0;
    42.56864792398 -199.63497801027 0;
    43.163738848208 -199.77378313885 0;
    44.67000564086 -200.18826603532 0;
    49.980011825299 -201.87691779083 0;
    61.681037275148 -206.71669287003 0;
    66.901173199367 -209.41107030654 0;
    74.138009358751 -213.99080469064 0;
    80.849007816541 -219.36080586828 0;
    83.849064028509 -221.87622925017 0;
    95.012959432356 -233.76785759063 0;
    116.81431079416 -263.37889999956 0;
    116.99408425898 -263.6229170656 0;
    123.1462970503 -271.96837827225 0;
    132.10838736161 -283.03969923157 0;
    136.03430910733 -287.46435913905 0;
    137.73416883519 -289.19375368141 0;
    139.71084639613 -290.56453379786 0;
    217.88813952778 -330.2464622998 0;
    231.80581194275 -337.58859897941 0;
    340.67861091692 -397.23197569949 0;
    350.01049675475 -402.21660160105 0;
    386.0837234063 -420.99730717572 0;
    386.1923275917 -421.05386638064 0;
    401.55991888468 -429.05943772507 0;
    404.18434163686 -430.36970001184 0;
    405.37500944789 -430.93877420151 0;
    405.6406038474 -431.06580988975 0;
    424.36918106606 -440.03059776831 0;
    445.96502253705 -452.12071231088 0;
    456.36114189393 -458.84736908517 0;
    456.39082469486 -458.86657639562 0;
    499.26595986703 -486.61260584082 0;
    524.01575661568 -501.63079997769 0;
    592.23860536303 -540.3717561954 0;
    592.6525070804 -540.60705467431 0;
    644.25205092165 -569.97333135246 0;
    657.50629812451 -573.39715971882 0;
    671.34129447279 -571.12074775964 0;
    671.52875459176 -571.05980063425 0;
    683.73349785922 -563.77470825171 0;
    739.3817208904 -510.67760648307 0;
    749.99648150492 -494.95041626926 0;
    753.55924969392 -485.99272458019 0;
    753.61153001433 -485.8612245733 0;
    754.93068586482 -482.54180089971 0;
    757.29245692198 -475.65862670324 0;
    758.05573713165 -473.03197362769 0;
    759.58150723908 -467.67001326248 0;
    765.56179764172 -446.19970937893 0;
    777.07773300581 -412.36367257292 0;
    782.18890819671 -399.73021441146 0;
    787.64147623042 -393.92245255193 0;
    787.83493801156 -393.82959317109 0;
    795.4491119559 -391.18037159859 0;
    802.57490576568 -387.75374510238 0;
    808.39243378996 -383.1038296204 0;
    809.38990154891 -382.30655958478 0];
headings = [-101.094891724683;-101.094891724683;-101.891832284143;-101.891832284143;-116.429664731385;-116.429664731385;-111.46521658838;-111.46521658838;-95.2017736509582;-88.5517278240708;-88.5517278240705;-77.7140694389757;-77.7140694389757;-61.5025363398834;-61.5025363398834;-54.6306487004154;-40.4335308208155;-40.433530820815;-30.8280736843618;-30.8280736843612;-21.1378008979929;-21.1378008979929;-13.6594187493615;-9.4209125693032;-9.42091256930287;-5.73198934594084;-5.73198934594089;-13.1686238665867;-13.1686238665867;-13.1295096747656;-13.1295096747655;-17.6413478805961;-17.6413478805964;-27.3005579433585;-27.3005579433585;-37.3536894119477;-39.9784451488269;-39.9784451488269;-53.6373639942268;-53.6373639942269;-53.6026325743674;-53.6026325743674;-48.4179280457387;-48.4179280457387;-42.5689794548984;-26.9118450989479;-26.9118450989478;-28.715084523594;-28.715084523594;-27.5027146830581;-27.5027146830582;-27.5167463307374;-27.5167463307374;-25.5452525052376;-25.5452525052376;-25.5789896407596;-25.5789896407595;-32.9042950830508;-32.9042950830508;-32.908346489351;-32.9083464893511;-29.5904650235053;-29.5904650235053;-29.6450231253225;-29.6450231253223;0.677059398601828;18.0104053286334;18.0104053286326;43.6561107270134;43.6561107270132;68.3106594357489;68.3106594357489;68.3268754507427;68.326875450741;73.7966418381429;73.7966418381416;74.4354722088718;74.4354722088721;67.9729989789474;67.9729989789475;25.6404584381926;25.6404584381926;12.7284754680243;38.6351360502397;38.6351360502392;38.635136050241];
marking = [laneMarking('Solid', 'Width', 0.125)
    laneMarking('DoubleSolid', 'Color', [0.98 0.86 0.36], 'Width', 0.125)
    laneMarking('Solid', 'Width', 0.125)];
lanetypes = [laneType('Driving')
    laneType('Driving')];
laneSpecification = lanespec([1 1], 'Width', 3.5, 'Marking', marking, 'Type', lanetypes);
road(scenario, roadCenters, 'Heading', headings, 'Lanes', laneSpecification, 'Name', 'Road4');

roadCenters = [-22.712394553196 -7.0185543824368 0;
    -20.513907836265 -7.100139647515 0;
    -18.315421119334 -7.1817249125932 0];
headings = [-2.12525611210663;-2.12525611210663;-2.12525611210663];
marking = [laneMarking('Solid', 'Width', 0.125)
    laneMarking('DoubleSolid', 'Color', [0.98 0.86 0.36], 'Width', 0.125)
    laneMarking('Solid', 'Width', 0.125)];
lanetypes = [laneType('Driving')
    laneType('Driving')];
laneSpecification = lanespec([1 1], 'Width', 3.5, 'Marking', marking, 'Type', lanetypes);
road(scenario, roadCenters, 'Heading', headings, 'Lanes', laneSpecification, 'Name', 'Road5');

roadCenters = [-30.223879127925 10.629247078798 0;
    -30.24675632867 11.509280266806 0;
    -30.962758840588 19.344754117346 0;
    -30.962971915196 19.346044906706 0;
    -32.782891721436 27.005077947218 0;
    -33.043869474009 27.839915633361 0];
headings = [91.9093649316674;91.0688679857038;99.3734626522646;99.3734626522646;107.359712719455;107.359712719455];
marking = [laneMarking([laneMarking('Solid', 'Width', 0.125) laneMarking('Unmarked')], 'SegmentRange', [0.724394275819607 0.275605724180393])
    laneMarking([laneMarking('DoubleSolid', 'Color', [0.98 0.86 0.36], 'Width', 0.125) laneMarking('Unmarked')], 'SegmentRange', [0.97609605420878 0.0239039457912203])
    laneMarking('Solid', 'Width', 0.125)];
lanetypes = [laneType('Driving')
    laneType('Driving')];
laneSpecification = lanespec([1 1], 'Width', 3.5, 'Marking', marking, 'Type', lanetypes);
road(scenario, roadCenters, 'Heading', headings, 'Lanes', laneSpecification, 'Name', 'Road6');

roadCenters = [-36.461111530228 27.662185945937 0;
    -36.495253577752 27.522605260033 0;
    -36.521630006743 27.41519531112 0;
    -40.72277348058 22.242817910439 0;
    -40.974198485925 22.122203407575 0;
    -48.111817257395 22.142810856909 0;
    -73.121335398835 34.318608719447 0;
    -73.968644803748 34.728926845287 0];
headings = [-103.692841082677;-103.796989092045;-103.796989092045;-154.371867704499;-154.371867704499;154.041024427354;154.041024427354;154.280866662843];
marking = [laneMarking([laneMarking('Unmarked') laneMarking('Solid', 'Width', 0.125)], 'SegmentRange', [0.0801439569255949 0.919856043074405])
    laneMarking([laneMarking('Unmarked') laneMarking('DoubleSolid', 'Color', [0.98 0.86 0.36], 'Width', 0.125)], 'SegmentRange', [0.00812881371498367 0.991871186285016])
    laneMarking('Solid', 'Width', 0.125)];
lanetypes = [laneType('Driving')
    laneType('Driving')];
laneSpecification = lanespec([1 1], 'Width', 3.5, 'Marking', marking, 'Type', lanetypes);
road(scenario, roadCenters, 'Heading', headings, 'Lanes', laneSpecification, 'Name', 'Road7');

roadCenters = [-86.422743335718 59.902190041543 0;
    -78.695339690643 56.659656643689 0;
    -74.953668192364 55.071678295472 0;
    -41.393693241758 40.66744776353 0;
    -39.601154120878 39.730592233216 0];
headings = [-22.7636451587144;-22.7636451587143;-23.2294266772159;-23.2294266772159;-31.9574550783174];
marking = [laneMarking('Solid', 'Width', 0.125)
    laneMarking('DoubleSolid', 'Color', [0.98 0.86 0.36], 'Width', 0.125)
    laneMarking('Solid', 'Width', 0.125)];
lanetypes = [laneType('Driving')
    laneType('Driving')];
laneSpecification = lanespec([1 1], 'Width', 3.5, 'Marking', marking, 'Type', lanetypes);
road(scenario, roadCenters, 'Heading', headings, 'Lanes', laneSpecification, 'Name', 'Road8');

roadCenters = [0.092109174621873 3.3828698147442 0;
    20.404645208277 4.706828136406 0;
    68.906697122501 10.34127235366 0;
    97.731185490226 15.176928804544 0;
    115.42794566851 18.474351002692 0;
    157.79138473139 27.159753818087 0;
    169.86543978297 30.471274050382 0;
    181.65351696039 34.763523399921 0;
    186.60152654556 36.655635189137 0;
    204.136153885 42.988734577635 0;
    210.15047562386 45.035040341741 0;
    231.50990693409 53.454878501649 0;
    241.3676237536 57.893011952388 0;
    242.61025949572 58.454509615013 0;
    246.74557641716 60.329889323657 0;
    255.95084834726 65.221951663589 0;
    262.74164880406 69.396674913055 0;
    279.20437758449 79.966614743115 0;
    279.75663609038 80.336649107991 0;
    296.44025461907 92.869726168784 0;
    298.03801986658 94.210679169227 0;
    315.90516938524 111.69131751695 0;
    339.3264122589 138.3900325559 0;
    353.7661386921 153.44956555059 0;
    368.15949903236 168.5495317758 0;
    384.57845362053 187.49002517551 0;
    391.82461850231 197.67005741412 0;
    398.81443135058 208.06070850385 0;
    415.0717842483 228.95021129888 0;
    415.90376971323 230.02224970697 0;
    418.04628531424 232.79069394997 0;
    423.04569845709 239.4874597168 0;
    427.19206605969 245.24729194685 0;
    428.67028546674 247.28984571025 0;
    431.86228517381 251.67711034174 0;
    432.83536571971 253.03582514641 0];
headings = [3.72922781580952;3.72922781580952;9.52337824768729;9.52337824768729;11.5862915166975;11.5862915166975;19.0881537513607;20.9267825926193;20.9267825926193;18.7902980953889;18.7902980953889;24.2381890717361;24.2381890717361;24.3944469369894;24.3944469369896;31.5816032048868;31.5816032048868;33.8236007716941;33.8236007716941;40.005655399769;40.0056553997689;48.7413905891714;48.7413905891715;43.6659292163001;49.0789487762095;49.0789487762093;60.034394997639;52.1079957370562;52.107995737056;52.2634972550096;52.2634972550096;54.2507749341841;54.2507749341847;53.9618502762681;53.9618502762687;54.8194010086352];
marking = [laneMarking('Solid', 'Width', 0.125)
    laneMarking('DoubleSolid', 'Color', [0.98 0.86 0.36], 'Width', 0.125)
    laneMarking('Solid', 'Width', 0.125)];
lanetypes = [laneType('Driving')
    laneType('Driving')];
laneSpecification = lanespec([1 1], 'Width', 3.5, 'Marking', marking, 'Type', lanetypes);
road(scenario, roadCenters, 'Heading', headings, 'Lanes', laneSpecification, 'Name', 'Road9');

roadCenters = [-145.60723231147 29.190460887758 0;
    -133.23467711951 24.053007343156 0;
    -112.49013250812 17.142934360655 0;
    -92.695167534192 12.098558069257 0;
    -62.439627418537 6.0231930562426 0;
    -48.072073581791 3.8985754152077 0;
    -46.237760636245 3.8871984536049 0;
    -44.4553209083 4.3441031568163 0;
    -43.986199080055 4.5246885553831 0;
    -41.231852807876 4.8847271696053 0;
    -36.545731670543 4.3790172796832 0];
headings = [-22.5496809561735;-22.5496809561734;-14.2964748307139;-14.2964748307139;-8.41171523915232;-8.41171523915229;7.70099297477414;21.0538862272301;21.0538862272301;-6.15932454949771;-6.15932454949771];
marking = [laneMarking('Solid', 'Width', 0.125)
    laneMarking('DoubleSolid', 'Color', [0.98 0.86 0.36], 'Width', 0.125)
    laneMarking('Solid', 'Width', 0.125)];
lanetypes = [laneType('Driving')
    laneType('Driving')];
laneSpecification = lanespec([1 1], 'Width', 3.5, 'Marking', marking, 'Type', lanetypes);
road(scenario, roadCenters, 'Heading', headings, 'Lanes', laneSpecification, 'Name', 'Road10');

roadCenters = [-22.588566298864 3.3992982803539 0;
    -20.244120296214 3.3042264882774 0;
    -17.90014625462 3.1981538842638 0];
headings = [-2.18774425812222;-2.45661903152924;-2.72549380493627];
marking = [laneMarking('Solid', 'Width', 0.125)
    laneMarking('DoubleSolid', 'Color', [0.98 0.86 0.36], 'Width', 0.125)
    laneMarking('Solid', 'Width', 0.125)];
lanetypes = [laneType('Driving')
    laneType('Driving')];
laneSpecification = lanespec([1 1], 'Width', 3.5, 'Marking', marking, 'Type', lanetypes);
road(scenario, roadCenters, 'Heading', headings, 'Lanes', laneSpecification, 'Name', 'Road11');

roadCenters = [-86.286066316402 41.31248339774 0;
    -87.206498585666 42.097709488475 0;
    -87.395893515196 42.268673613023 0;
    -90.751604408755 46.659173208728 0;
    -91.5793995995 48.29407469016 0;
    -93.115466690936 53.744514999142 0;
    -93.140559980339 54.054774452935 0;
    -93.055203190751 56.763010112779 0];
headings = [141.136747291564;137.927879771826;137.927879771826;116.854336885172;116.854336885172;94.6239265329626;94.6239265329625;81.7656303465572];
marking = [laneMarking('Solid', 'Width', 0.125)
    laneMarking('DoubleSolid', 'Color', [0.98 0.86 0.36], 'Width', 0.125)
    laneMarking('Solid', 'Width', 0.125)];
lanetypes = [laneType('Driving')
    laneType('Driving')];
laneSpecification = lanespec([1 1], 'Width', 3.5, 'Marking', marking, 'Type', lanetypes);
road(scenario, roadCenters, 'Heading', headings, 'Lanes', laneSpecification, 'Name', 'Road12');

roadCenters = [-181.88979207029 50 0;
    -181.88979207029 0 0;
    -181.88979207029 -50 0];
headings = [-90;-90;-90];
laneSpecification = lanespec([1 1]);
road(scenario, roadCenters, 'Heading', headings, 'Lanes', laneSpecification, 'Name', 'Road13');

rg = driving.scenario.RoadGroup('Name', 'Roadgroup');
Centers = [-17.8169321745169 4.9461743123116 0;
    -16.3159040400401 4.8724650493247 0;
    -16.2885286678093 4.87107967804939 0;
    -10.9235677872583 3.44159317499016 0;
    -10.622469646809 3.28855682624232 0;
    -7.88660615060913 -1.45552025773057 0;
    -7.17246055398533 -2.9312630231306 0;
    -5.98201428592652 -3.77242530788703 0;
    -0.997708625898448 -5.18965223584 0;
    -0.552066842313396 -5.1623965333824 0];
marking = [laneMarking('Solid', 'Width', 0.125)
    laneMarking('DoubleSolid', 'Color', [0.98 0.86 0.36], 'Width', 0.125)];
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [-2.72549380493627;357.10293363715;357.10293363715;333.057559141034;333.057559141034;266.891599365565;324.755198819642;324.755198819642;3.49988258311305;3.49988258311305];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-17.9833603347223 1.45013345621586 0;
    -16.4931438924009 1.37695562249489 0;
    -16.4654249816486 1.37555286594365 0;
    -12.509400877865 0.321475643752439 0;
    -12.2083027374156 0.168439295004603 0;
    -11.3814350472657 -1.26533341520036 0;
    -11.5322928104115 -4.03936241684456 0;
    -12.0057404610781 -8.42979551677036 0;
    -12.8071549675314 -12.9081641798588 0;
    -13.0261628900809 -14.0249839356404 0];
marking = [laneMarking('DoubleSolid', 'Color', [0.98 0.86 0.36], 'Width', 0.125)
    laneMarking('Solid', 'Width', 0.125)];
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [-2.72549380493627;-2.89706636285032;-2.89706636285032;-26.942440858966;-26.942440858966;-93.1128035714773;-93.1128035714773;-99.1967480462072;-101.094891724683;-101.094891724683];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-17.8169321745169 4.9461743123116 0;
    -16.3159040400401 4.8724650493247 0;
    -16.2885286678093 4.87107967804939 0;
    -10.9235677872583 3.44159317499016 0;
    -10.622469646809 3.28855682624232 0;
    -7.88659908481242 -1.45539023708102 0;
    -7.97565629524762 -3.09300754891904 0;
    -8.03745684795824 -4.22941923872521 0;
    -8.55073177840125 -8.98918357762579 0;
    -9.37257058134873 -13.581684850804 0;
    -9.59158564071726 -14.698541000431 0];
marking = [laneMarking('Solid', 'Width', 0.125)
    laneMarking('DoubleSolid', 'Color', [0.98 0.86 0.36], 'Width', 0.125)];
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [-2.72549380493627;357.10293363715;357.10293363715;333.057559141034;333.057559141034;-93.1128035714773;266.887196428523;266.887196428523;260.803251953793;258.905108275317;258.905108275317];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-17.9833603347223 1.45013345621586 0;
    -16.4931438924009 1.37695562249489 0;
    -16.4654249816486 1.37555286594365 0;
    -12.509400877865 0.321475643752439 0;
    -12.2083027374156 0.168439295004603 0;
    -11.3814350472657 -1.26533341520036 0;
    -12.2244377658201 -2.94301633191307 0;
    -13.3561136656707 -3.88440650654843 0;
    -17.9352658953773 -5.4446277967126 0;
    -18.250295724805 -5.43293712242129 0];
marking = [laneMarking('DoubleSolid', 'Color', [0.98 0.86 0.36], 'Width', 0.125)
    laneMarking('Solid', 'Width', 0.125)];
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [-2.72549380493627;-2.89706636285032;-2.89706636285032;-26.942440858966;-26.942440858966;-93.1128035714773;-140.2444559096;-140.2444559096;177.874743887893;177.874743887893];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-18.3803184892827 -8.93052116469739 0;
    -17.0312470948023 -8.98058485008627 0;
    -16.9826546390732 -8.98238810336541 0;
    -11.5124124615344 -8.04574843383844 0;
    -7.97829476267963 -3.14152467540741 0;
    -7.97565428135079 -3.09297051663055 0;
    -7.88659908481242 -1.45539023708101 0;
    -10.622469646809 3.28855682624232 0;
    -10.9235677872583 3.44159317499016 0;
    -16.2885286678093 4.87107967804939 0;
    -16.3162506777592 4.87248259144009 0;
    -17.8169321745169 4.94617431231165 0];
marking = [laneMarking('DoubleSolid', 'Color', [0.98 0.86 0.36], 'Width', 0.125)
    laneMarking('Solid', 'Width', 0.125)];
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [357.874743887893;357.874743887893;357.874743887893;21.5576990110753;446.887196428523;86.8871964285227;86.8871964285228;513.057559141034;153.057559141034;537.10293363715;177.102933991506;177.274506195064];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-17.9833603347223 1.45013345621588 0;
    -16.4931438924009 1.37695562249489 0;
    -16.375968021028 1.37102576389819 0;
    -10.1617043987625 3.58715480247096 0;
    -7.34152724613043 9.55201979559252 0;
    -7.3358652619902 9.66942799521378 0;
    -7.20060142384008 12.2473393274505 0];
marking = [laneMarking('DoubleSolid', 'Color', [0.98 0.86 0.36], 'Width', 0.125)
    laneMarking('Solid', 'Width', 0.125)];
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [357.274506195064;357.10293363715;357.10293363715;42.1515413175116;447.239062878687;87.2390217503062;86.7538310156485];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-0.338404113152983 -8.65586876572771 0;
    -2.87400955616777 -8.81094781771015 0;
    -8.18786848072526 -7.93072908093485 0;
    -8.33031307478948 -7.87228197292677 0;
    -11.4704902438041 -2.90291369474989 0;
    -11.3814107530375 -1.26488701379106 0;
    -8.23132802998066 3.45737192492186 0;
    -8.03827268782609 3.55030467521559 0;
    -2.68932728501027 4.95529090274743 0;
    -2.53839440925868 4.96512861264897 0;
    -1.99953782194078 5.00025094605823 0;
    -0.0217132021674214 5.12916431068183 0];
marking = [laneMarking('Solid', 'Width', 0.125)
    laneMarking('DoubleSolid', 'Color', [0.98 0.86 0.36], 'Width', 0.125)];
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [183.499882583113;183.498251225899;157.690937371461;157.690937371461;86.8871964285227;86.8826039461595;25.7051778973733;25.7051778973733;3.72922781580952;363.72922781581;363.72922781581;363.72922781581];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [0.205931551411167 1.63657531880658 0;
    -1.77205827443937 1.5076511861548 0;
    -2.62373892774698 1.45213917689723 0;
    -6.46769350020287 0.202318840166597 0;
    -7.17662668225638 -0.245737946506222 0;
    -7.88660615060913 -1.45552025773057 0;
    -7.17246055398533 -2.9312630231306 0;
    -5.98201428592652 -3.77242530788703 0;
    -0.997708625898448 -5.18965223584 0;
    -0.552066842313396 -5.1623965333824 0];
marking = [laneMarking('Solid', 'Width', 0.125)
    laneMarking('DoubleSolid', 'Color', [0.98 0.86 0.36], 'Width', 0.125)];
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [183.72922781581;183.72922781581;183.72922781581;212.293522669455;212.293522669455;266.891599365565;324.755198819642;324.755198819642;3.49988258311305;3.49988258311305];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-13.0261628900809 -14.0249839356404 0;
    -12.8071549675314 -12.9081641798588 0;
    -12.0057404610781 -8.42979551677036 0;
    -11.5322928104115 -4.03936241684456 0;
    -11.3814107530375 -1.26488701379106 0;
    -8.23132802998066 3.45737192492186 0;
    -8.03827268782609 3.55030467521559 0;
    -2.68932728501027 4.95529090274743 0;
    -2.53839440925868 4.96512861264897 0;
    -1.99953782194078 5.00025094605823 0;
    -0.0217132021674214 5.12916431068183 0];
marking = laneMarking('Unmarked');
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [78.9051082753171;78.9051082753169;80.8032519537928;86.8871964285227;86.8826039461595;25.7051778973733;25.7051778973733;3.72922781580952;363.72922781581;363.72922781581;363.72922781581];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [0.205931551411167 1.63657531880658 0;
    -1.77205827443937 1.5076511861548 0;
    -2.62373892774698 1.45213917689723 0;
    -6.46769350020287 0.202318840166597 0;
    -7.17662668225638 -0.245737946506222 0;
    -7.88659908481242 -1.45539023708102 0;
    -7.97565629524762 -3.09300754891904 0;
    -8.03745684795824 -4.22941923872521 0;
    -8.55073177840125 -8.98918357762579 0;
    -9.37257058134873 -13.581684850804 0;
    -9.59158564071726 -14.698541000431 0];
marking = [laneMarking('Solid', 'Width', 0.125)
    laneMarking('DoubleSolid', 'Color', [0.98 0.86 0.36], 'Width', 0.125)];
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [183.72922781581;183.72922781581;183.72922781581;212.293522669455;212.293522669455;-93.1128035714773;266.887196428523;266.887196428523;260.803251953793;258.905108275317;258.905108275317];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-10.6949855304201 12.4455304364369 0;
    -10.7561959381636 11.3306017357195 0;
    -10.7642731271087 11.1784453938398 0;
    -12.9273885136712 6.63494912082097 0;
    -17.66473157147 4.9389288395252 0;
    -17.8166045181086 4.94615871430782 0];
marking = [laneMarking('DoubleSolid', 'Color', [0.98 0.86 0.36], 'Width', 0.125)
    laneMarking('Solid', 'Width', 0.125)];
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [-93.2461689843515;-93.0386827939503;-93.0386827939503;-137.878667648337;177.274505922613;177.274505922613];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-18.250295724805 -5.43293712242129 0;
    -17.9352658953773 -5.4446277967126 0;
    -13.3561136656707 -3.88440650654843 0;
    -12.2244377658201 -2.94301633191307 0;
    -11.3814107530375 -1.26488701379106 0;
    -8.23132802998066 3.45737192492186 0;
    -8.03827268782608 3.55030467521559 0;
    -2.68932728501027 4.95529090274743 0;
    -2.53839440925868 4.96512861264897 0;
    -1.99953782194078 5.00025094605823 0;
    -0.0217132021674214 5.12916431068183 0];
marking = laneMarking('Unmarked');
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [357.874743887893;357.874743887893;39.7555440904003;39.7555440904004;86.8826039461595;25.7051778973733;25.7051778973733;3.72922781580952;363.72922781581;363.72922781581;363.72922781581];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-18.3803184892827 -8.93052116469739 0;
    -17.0312470948023 -8.98058485008627 0;
    -16.9826546390732 -8.98238810336541 0;
    -11.5124124615344 -8.04574843383844 0;
    -7.97829476267963 -3.14152467540741 0;
    -7.97565428135079 -3.09297051663054 0;
    -7.88659908481242 -1.45539023708101 0;
    -7.17662668225638 -0.245737946506227 0;
    -6.46769350020287 0.202318840166596 0;
    -2.62373892774698 1.45213917689723 0;
    -1.7718930683622 1.50766195418299 0;
    0.205931551411166 1.63657531880658 0];
marking = [laneMarking('DoubleSolid', 'Color', [0.98 0.86 0.36], 'Width', 0.125)
    laneMarking('Solid', 'Width', 0.125)];
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [357.874743887893;357.874743887893;357.874743887893;21.5576990110753;446.887196428523;86.8871964285227;86.8871964285227;392.293522669455;32.2935226694548;363.72922781581;363.72922781581;363.72922781581];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-0.338404113152983 -8.65586876572771 0;
    -2.87386396691285 -8.81093891828688 0;
    -3.28657677211567 -8.8361806658819 0;
    -7.32915950532236 -10.5002209112858 0;
    -9.51197905728812 -14.2925912793937 0;
    -9.59158564071726 -14.698541000431 0];
marking = [laneMarking('Solid', 'Width', 0.125)
    laneMarking('DoubleSolid', 'Color', [0.98 0.86 0.36], 'Width', 0.125)];
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [183.499882583113;183.499882583113;183.499882583113;221.246992549245;258.905108275317;258.905108275317];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-13.0261320179378 -14.0248265047178 0;
    -12.9465634434708 -13.6190706084485 0;
    -9.63673173095974 -7.86866045720786 0;
    -3.50023950127609 -5.34270843353659 0;
    -3.08732954807256 -5.31745462825881 0;
    -0.552066842313396 -5.1623965333824 0];
marking = laneMarking('Unmarked');
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [78.9051082753171;78.9051082753171;41.2469925492452;3.49988258311305;363.499882583113;363.499882583113];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-10.6949855304201 12.4455304364369 0;
    -10.8318130368698 9.83780021307735 0;
    -8.44446032658452 3.74881373363007 0;
    -8.44157558291426 3.7459867082647 0;
    -2.31074965568009 1.47253962077372 0;
    0.205931551411167 1.63657531880658 0];
marking = [laneMarking('DoubleSolid', 'Color', [0.98 0.86 0.36], 'Width', 0.125)
    laneMarking('Solid', 'Width', 0.125)];
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [-93.2461689843515;-92.7609371213128;-44.4210370389775;-44.4210370389775;3.72922781580952;3.72922781580952];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-18.3803184892827 -8.93052116469739 0;
    -17.0312470948023 -8.98058485008627 0;
    -15.6385747263046 -9.03226655617797 0;
    -9.95001888747366 -9.10374544535397 0;
    -4.26469857639879 -8.89600314628391 0;
    -2.87366681891215 -8.81092686060412 0;
    -0.338404113152985 -8.65586876572771 0];
marking = [laneMarking('DoubleSolid', 'Color', [0.98 0.86 0.36], 'Width', 0.125)
    laneMarking('Solid', 'Width', 0.125)];
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [357.874743887893;357.874743887893;357.874743887893;0.685444930110478;363.499882583113;363.499882583113;363.499882583113];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-18.2505237493856 -5.43292866048895 0;
    -16.9014347846516 -5.48299299790533 0;
    -15.5087799864075 -5.53467405196953 0;
    -9.9918893367586 -5.60399590210424 0;
    -4.47836130555921 -5.4025309139386 0;
    -3.08732954807256 -5.31745462825881 0;
    -0.552066842313396 -5.1623965333824 0];
marking = [laneMarking('Solid', 'Width', 0.125)
    laneMarking('DoubleSolid', 'Color', [0.98 0.86 0.36], 'Width', 0.125)];
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [357.874743887893;357.874743887893;357.874743887893;0.685444930110555;3.49988258311305;363.499882583113;363.499882583113];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-18.2505237493856 -5.43292866048895 0;
    -16.9010503839282 -5.48300727345073 0;
    -11.1690743556664 -8.38288373405957 0;
    -11.1401749576795 -8.4192706935201 0;
    -11.1112755596925 -8.45565765298064 0;
    -9.59158564071726 -14.698541000431 0];
marking = [laneMarking('Solid', 'Width', 0.125)
    laneMarking('DoubleSolid', 'Color', [0.98 0.86 0.36], 'Width', 0.125)];
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [357.874743887893;357.8717446392;308.457447429459;308.457447429459;308.457447429459;258.905108275317];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-18.3803184892827 -8.93052116469739 0;
    -17.0312470948023 -8.98058485008627 0;
    -13.9098203065392 -10.5596500588576 0;
    -13.8809209085522 -10.5960370183181 0;
    -13.8520215105652 -10.6324239777786 0;
    -13.026127937507 -14.0248056669237 0];
marking = [laneMarking('DoubleSolid', 'Color', [0.98 0.86 0.36], 'Width', 0.125)
    laneMarking('Solid', 'Width', 0.125)];
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [357.874743887893;357.874743887893;308.457447429459;308.457447429459;308.457447429459;258.908116836963];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-7.20063248972908 12.2467914426326 0;
    -5.21989090342854 7.08702260993671 0;
    -5.20935309458581 7.07657456797804 0;
    -5.19881528574308 7.06612652601937 0;
    -0.0217132021674189 5.12916431068183 0];
marking = laneMarking('Unmarked');
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [266.756697943986;315.245080948915;315.245080948915;315.245080948915;363.72922781581];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-7.20060142384013 12.2473393274504 0;
    -7.33587589636007 9.66920748011298 0;
    -7.4896037810562 6.48147081793756 0;
    -7.51415686661846 5.96680144223644 0;
    -7.6102202825201 3.93105464723182 0;
    -7.6339153468088 3.42891602629576 0;
    -7.81651609330069 -0.166677963204821 0;
    -7.88660615060913 -1.45552025773057 0;
    -7.17246055398533 -2.9312630231306 0;
    -5.98201428592652 -3.77242530788703 0;
    -0.997708625898448 -5.18965223584 0;
    -0.552066842313396 -5.1623965333824 0];
marking = [laneMarking('Solid', 'Width', 0.125)
    laneMarking('DoubleSolid', 'Color', [0.98 0.86 0.36], 'Width', 0.125)];
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [-93.2461689843515;267.239062878687;267.239062878687;267.29831410157;267.29831410157;267.298314101569;266.887196428523;266.891599365565;324.755198819642;324.755198819642;3.49988258311305;3.49988258311305];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-10.6949855304201 12.4455304364369 0;
    -10.8318130368698 9.83780021307735 0;
    -10.9855410153577 6.65006160601504 0;
    -11.0102665761823 6.13177689099642 0;
    -11.1300250563727 3.5938914750558 0;
    -11.311352055754 0.0233788586758368 0;
    -11.3814350472657 -1.26533341520036 0;
    -11.4704902438041 -2.90291369474989 0;
    -8.33031307478948 -7.87228197292677 0;
    -8.18786848072526 -7.93072908093485 0;
    -2.87366681891215 -8.81092686060412 0;
    -0.338404113152983 -8.65586876572771 0];
marking = [laneMarking('DoubleSolid', 'Color', [0.98 0.86 0.36], 'Width', 0.125)
    laneMarking('Solid', 'Width', 0.125)];
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [-93.2461689843515;-92.7609371213129;-92.7609371213128;-92.7016858984299;-92.7016858984298;-93.1128035714773;-93.1128035714773;-93.1128035714773;-22.3090626285386;-22.3090626285386;3.49988258311305;3.49988258311305];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-7.20060142384013 12.2473393274504 0;
    -7.33587589636007 9.66920748011298 0;
    -7.4896037810562 6.48147081793756 0;
    -7.51415686661846 5.96680144223644 0;
    -7.6102202825201 3.93105464723182 0;
    -7.6339153468088 3.42891602629576 0;
    -7.81651609330069 -0.166677963204821 0;
    -7.97565629524762 -3.09300754891904 0;
    -8.03745684795824 -4.22941923872521 0;
    -8.55073177840125 -8.98918357762579 0;
    -9.37257058134873 -13.581684850804 0;
    -9.59158564071726 -14.698541000431 0];
marking = [laneMarking('Solid', 'Width', 0.125)
    laneMarking('DoubleSolid', 'Color', [0.98 0.86 0.36], 'Width', 0.125)];
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [-93.2461689843515;267.239062878687;267.239062878687;267.29831410157;267.29831410157;267.298314101569;266.887196428523;266.887196428523;266.887196428523;260.803251953793;258.905108275317;258.905108275317];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-10.6949855304201 12.4455304364369 0;
    -10.8318130368698 9.83780021307735 0;
    -10.9855410153577 6.65006160601504 0;
    -11.0102665761823 6.13177689099642 0;
    -11.1300250563727 3.5938914750558 0;
    -11.311352055754 0.0233788586758368 0;
    -11.3814350472657 -1.26533341520036 0;
    -11.5322928104115 -4.03936241684456 0;
    -12.0057404610781 -8.42979551677036 0;
    -12.8071549675314 -12.9081641798588 0;
    -13.0261628900809 -14.0249839356404 0];
marking = [laneMarking('DoubleSolid', 'Color', [0.98 0.86 0.36], 'Width', 0.125)
    laneMarking('Solid', 'Width', 0.125)];
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [-93.2461689843515;-92.7609371213129;-92.7609371213128;-92.7016858984299;-92.7016858984298;-93.1128035714773;-93.1128035714773;-93.1128035714773;-99.1967480462072;-101.094891724683;-101.094891724683];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-18.3803184892827 -8.93052116469739 0;
    -17.0312470948023 -8.98058485008627 0;
    -16.9826546390732 -8.98238810336541 0;
    -11.5124124615344 -8.04574843383844 0;
    -7.97829476267963 -3.14152467540741 0;
    -7.97565428135079 -3.09297051663054 0;
    -7.88659908481242 -1.45539023708101 0;
    -7.81651609330069 -0.166677963204822 0;
    -7.63391534680885 3.42891602629582 0;
    -7.6102202825201 3.93105464723182 0;
    -7.51415686661846 5.96680144223644 0;
    -7.4896037810562 6.48147081793757 0;
    -7.3358652619902 9.66942799521378 0;
    -7.20060142384008 12.2473393274505 0];
marking = [laneMarking('DoubleSolid', 'Color', [0.98 0.86 0.36], 'Width', 0.125)
    laneMarking('Solid', 'Width', 0.125)];
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [357.874743887893;357.874743887893;357.874743887893;21.5576990110753;446.887196428523;86.8871964285227;446.887196428523;86.8871964285227;447.29831410157;447.29831410157;87.2983141015701;447.239062878687;87.2390217503062;86.7538310156485];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-10.6949855304201 12.4455304364369 0;
    -10.8318130368698 9.83780021307735 0;
    -10.9855410153577 6.65006160601504 0;
    -11.0102665761823 6.13177689099642 0;
    -11.1300250563727 3.5938914750558 0;
    -11.311352055754 0.0233788586758368 0;
    -11.3814350472657 -1.26533341520036 0;
    -12.2244377658201 -2.94301633191307 0;
    -13.3561136656707 -3.88440650654843 0;
    -17.9352658953773 -5.4446277967126 0;
    -18.250295724805 -5.43293712242129 0];
marking = [laneMarking('DoubleSolid', 'Color', [0.98 0.86 0.36], 'Width', 0.125)
    laneMarking('Solid', 'Width', 0.125)];
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [-93.2461689843515;-92.7609371213129;-92.7609371213128;-92.7016858984299;-92.7016858984298;-93.1128035714773;-93.1128035714773;-140.2444559096;-140.2444559096;177.874743887893;177.874743887893];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-17.9833603347223 1.45013345621586 0;
    -16.4931438924009 1.37695562249489 0;
    -15.103889273026 1.30665033394709 0;
    -9.40247827458362 1.17942192029397 0;
    -3.6988366741337 1.38206498204681 0;
    -2.31074965568009 1.47253962077372 0;
    0.205931551411167 1.63657531880658 0];
marking = [laneMarking('DoubleSolid', 'Color', [0.98 0.86 0.36], 'Width', 0.125)
    laneMarking('Solid', 'Width', 0.125)];
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [-2.72549380493627;-2.89706636285032;-2.89706636285032;0.340351370823586;3.72922781580952;3.72922781580952;3.72922781580952];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-17.8169321745169 4.9461743123116 0;
    -16.3162231952164 4.87248120064531 0;
    -14.9269929591867 4.80217714605283 0;
    -9.42326903443153 4.67936016893564 0;
    -3.92648142771229 4.87465397392205 0;
    -0.0217132021674207 5.12916431068183 0];
marking = [laneMarking('Solid', 'Width', 0.125)
    laneMarking('DoubleSolid', 'Color', [0.98 0.86 0.36], 'Width', 0.125)];
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [-2.72549380493627;357.10293363715;357.10293363715;0.340351370823662;3.72922781580952;3.72922781580952];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-17.9833603347223 1.45013345621586 0;
    -16.4931438924009 1.37695562249489 0;
    -16.4654249816486 1.37555286594365 0;
    -12.509400877865 0.321475643752439 0;
    -12.2083027374156 0.168439295004603 0;
    -11.3814350472657 -1.26533341520036 0;
    -11.4704902438041 -2.90291369474989 0;
    -8.33031307478948 -7.87228197292677 0;
    -8.18786848072526 -7.93072908093485 0;
    -2.87366681891215 -8.81092686060412 0;
    -0.338404113152983 -8.65586876572771 0];
marking = [laneMarking('DoubleSolid', 'Color', [0.98 0.86 0.36], 'Width', 0.125)
    laneMarking('Solid', 'Width', 0.125)];
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [-2.72549380493627;-2.89706636285032;-2.89706636285032;-26.942440858966;-26.942440858966;-93.1128035714773;-93.1128035714773;-22.3090626285386;-22.3090626285386;3.49988258311305;3.49988258311305];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

roadGroup(scenario, rg);

rg = driving.scenario.RoadGroup('Name', 'Roadgroup1');
Centers = [-74.7285822317234 33.1525400192588 0;
    -75.9375139312422 33.7348537252553 0;
    -81.0401155260127 35.9931876028298 0;
    -86.3392464498446 39.107843370761 0;
    -87.3841573978669 39.949877079638 0];
marking = laneMarking('Unmarked');
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [154.280986941415;154.280986941415;157.972107520693;141.136654529196;141.136654529196];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-73.2096435211055 36.3057645914042 0;
    -74.4186606703861 36.888119456523 0;
    -79.7274128180035 39.2376924341384 0;
    -84.1431187602135 41.8330999037933 0;
    -85.1879558570157 42.6750741002144 0];
marking = laneMarking('Unmarked');
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [154.280986941415;154.280986941415;157.972107520693;141.136654529196;141.136654529196];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

roadGroup(scenario, rg);

rg = driving.scenario.RoadGroup('Name', 'Roadgroup2');
Centers = [-31.3870409472947 -0.818538855352645 0;
    -31.3734761419385 0.321822952811001 0;
    -31.5917730028227 4.70103955311141 0;
    -31.9349096784381 9.43112079309935 0;
    -31.9729081717872 10.5709598235731 0];
marking = laneMarking('Unmarked');
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [89.3184887135061;89.3184887135061;96.3889907639522;91.9093461963098;91.9093461963098];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-27.8872888914605 -0.860198770971064 0;
    -27.8737237323198 0.280192779043913 0;
    -28.1135103853336 5.09051248384928 0;
    -28.4368528983563 9.54773452866992 0;
    -28.4748504006901 10.6875438317022 0];
marking = laneMarking('Unmarked');
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [89.3184887135061;89.3184887135061;96.388990763952;91.9093461963098;91.9093461963098];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-36.7332731076514 2.639095367827 0;
    -30.7805602611024 4.78700502615102 0;
    -30.7374821865729 4.83136684146589 0;
    -28.4748386594619 10.6871913570747 0];
marking = laneMarking('Unmarked');
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [-6.15932454949769;45.8411223433454;45.8411223433454;91.9066150542725];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-36.3575435152191 6.11886940555019 0;
    -33.2914980348427 7.22528136332118 0;
    -33.2484199603132 7.26964317863606 0;
    -31.9729081717872 10.5709598235731 0];
marking = laneMarking('Unmarked');
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [353.843808447305;45.8411223433454;45.8411223433453;91.9093461963098];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-28.4748427933254 10.6873156339388 0;
    -28.468052205069 10.4836186751315 0;
    -26.7564056079365 6.79639906516984 0;
    -22.7256809907006 5.15581282025323 0;
    -22.5217615511893 5.14802270852666 0];
marking = laneMarking('Unmarked');
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [271.90934619631;271.90934619631;317.893114493717;357.812255726139;357.812255726139];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-22.6556286524267 1.65058369321765 0;
    -22.859290211557 1.65836395342155 0;
    -29.1032108410255 4.19976562974889 0;
    -31.9661089851508 10.367004939561 0;
    -31.9729081717872 10.5709598235731 0];
marking = laneMarking('Unmarked');
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [177.812255726139;177.812255726139;137.893114493717;91.9093461963098;91.9093461963098];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-27.8872888914605 -0.860198770971062 0;
    -27.8858145011231 -0.736250185867794 0;
    -30.9560006967323 4.47037381853004 0;
    -36.2345038506679 6.10559138742143 0;
    -36.3574144480874 6.11885547148365 0];
marking = laneMarking('Unmarked');
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [89.3184887135061;89.3184887135061;151.734604439051;173.840675450502;173.840675450502];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-36.7332731076514 2.639095367827 0;
    -36.6100313119452 2.62579554199794 0;
    -32.6134479157135 1.38770148493841 0;
    -31.3855669107419 -0.694620012100708 0;
    -31.3870373388232 -0.818235499501312 0];
marking = laneMarking('Unmarked');
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [-6.15932454949771;-6.15932454949771;-28.2653955609495;-90.6815112864939;-90.6815112864939];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-31.38703799365 -0.818290549278195 0;
    -31.3869578605211 -0.811553942491384 0;
    -27.9944738985798 4.18006770327996 0;
    -22.5287715888446 5.14829050534227 0;
    -22.5217615511893 5.14802270852666 0];
marking = laneMarking('Unmarked');
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [89.3184887135061;89.318488713506;22.2786627399343;357.812255726139;357.812255726139];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-27.8872888914605 -0.860198770971064 0;
    -27.8872054509023 -0.853184116258475 0;
    -26.6675833682623 0.941339323104538 0;
    -22.662380809701 1.6508416385106 0;
    -22.6556486369599 1.65058445666495 0];
marking = laneMarking('Unmarked');
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [89.3184887135061;89.3184887135061;22.2786627399343;-2.18774427386105;-2.18774427386105];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-36.7332731076514 2.639095367827 0;
    -35.3447671402903 2.4892526345019 0;
    -29.6929365925816 1.99788853195497 0;
    -24.0509206369963 1.70388650964864 0;
    -22.6553798730722 1.65057418937157 0];
marking = laneMarking('Unmarked');
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [-6.15932454949771;-6.15932454949771;-3.77815621133962;-2.18774427386105;-2.18774427386105];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-36.3577365912841 6.11889023605668 0;
    -34.9692396790129 5.9690484799254 0;
    -29.4623093854879 5.49028185048998 0;
    -23.9173114161399 5.20133537648031 0;
    -22.5217615511893 5.14802270852666 0];
marking = laneMarking('Unmarked');
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [353.840675450502;353.840675450502;356.221843788661;357.812255726139;357.812255726139];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

roadGroup(scenario, rg);

rg = driving.scenario.RoadGroup('Name', 'Roadgroup3');
Centers = [-36.7017607123607 -8.42408369726837 0;
    -36.6637285533484 -8.42407879251443 0;
    -31.2617041133505 -7.32483050027512 0;
    -27.9046312149322 -2.31812778894582 0;
    -27.9041831810084 -2.28046261336571 0];
marking = laneMarking('Unmarked');
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [0.00738905457852781;0.00738905457850236;22.9965625779344;89.3184887135062;89.3184887135062];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-36.7018477648997 -4.92408367938975 0;
    -36.6641799250057 -4.92407882161962 0;
    -32.629069772841 -4.10298147320293 0;
    -31.4043836245509 -2.27649761517874 0;
    -31.4039312572933 -2.23846814624929 0];
marking = laneMarking('Unmarked');
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [0.00738905457850236;0.00738905457847692;22.9965625779344;89.3184887135062;89.3184887135062];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-36.7022071520725 -4.92408372573752 0;
    -35.3037534131576 -4.9239033764841 0;
    -29.6465754115934 -5.01920644709074 0;
    -27.6665541306799 -5.08619347882371 0;
    -26.0247852707724 -5.14442785576506 0;
    -22.6474971832476 -5.2697581303326 0];
marking = laneMarking('Unmarked');
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [0.00738905457850236;0.00738905457850236;358.062338556986;358.062338556985;357.874743887893;357.874743887893];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-36.7017607123607 -8.42408369726837 0;
    -35.3033020415003 -8.4239033473789 0;
    -29.7649178525175 -8.51720517017172 0;
    -27.784896571604 -8.5841922019047 0;
    -26.1545800106695 -8.6420203599735 0;
    -22.7772968516978 -8.76735045164373 0];
marking = laneMarking('Unmarked');
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [0.00738905457852781;0.00738905457852781;-1.93766144301365;-1.93766144301365;-2.12525611210663;-2.12525611210663];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-22.7776558530056 -8.76733712919942 0;
    -22.8337842114689 -8.76525422054758 0;
    -28.2187372230879 -7.43137601136554 0;
    -31.4046036580309 -2.29499532085572 0;
    -31.4039312572933 -2.23846814624929 0];
marking = laneMarking('Unmarked');
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [177.874743887893;177.874743887893;154.30045189965;89.3184887135062;89.3184887135062];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-27.904183179358 -2.28046247461873 0;
    -27.9048512484121 -2.3366254946228 0;
    -26.7009553012907 -4.27759446568652 0;
    -22.7039894715719 -5.26766171633915 0;
    -22.6474971832476 -5.2697581303326 0];
marking = laneMarking('Unmarked');
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [269.318488713506;269.318488713506;334.30045189965;357.874743887893;357.874743887893];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

roadGroup(scenario, rg);

rg = driving.scenario.RoadGroup('Name', 'Roadgroup4');
Centers = [-38.6746687416294 41.2152217871583 0;
    -38.262251832669 40.9579391372579 0;
    -34.266337777935 34.7526062694478 0;
    -34.645731642717 27.7204174906293 0;
    -34.76085104839 27.2479223897476 0];
marking = laneMarking('Unmarked');
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [328.04238685926;328.04238685926;277.516502465201;256.307152174069;256.307152174069];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-40.5273835612609 38.2458030141906 0;
    -40.1147729281451 37.9883995111852 0;
    -37.7362630681993 34.294765161656 0;
    -38.0462570111452 28.5489265241809 0;
    -38.161322367291 28.0766532637148 0];
marking = laneMarking('Unmarked');
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [-31.9576131407404;-31.9576131407404;-82.4834975347994;-103.692847825931;-103.692847825931];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-31.373603400256 28.3621332588154 0;
    -31.9177340762049 30.1027444411485 0;
    -33.2844375391582 34.4065686695523 0;
    -33.5365934877475 35.1884078866648 0;
    -37.8245700834526 40.6848952396755 0;
    -38.6747617387533 41.2152798025935 0];
marking = laneMarking('Unmarked');
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [107.359712719455;107.359712719455;107.875361091207;107.875361091207;148.04238685926;148.04238685926];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-40.5273835612609 38.2458030141906 0;
    -39.6770911789287 37.7153556136028 0;
    -36.8676361974271 34.1140920735583 0;
    -36.6154802488378 33.3322528564458 0;
    -35.2583103426764 29.0584503217131 0;
    -34.7142150892709 27.3179524520051 0];
marking = laneMarking('Unmarked');
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [-31.9576131407404;-31.9576131407404;-72.1246389087933;-72.1246389087933;-72.6402872805447;-72.6402872805447];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

roadGroup(scenario, rg);

rg = driving.scenario.RoadGroup('Name', 'Roadgroup5');
Centers = [-94.7870669896944 57.0143030344691 0;
    -91.3935325953828 61.4107973811973 0;
    -91.1615478906296 61.508850654651 0;
    -85.7456148285113 61.5158805275808 0];
marking = laneMarking('Unmarked');
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [81.7604677272753;22.9123847456211;22.9123847456213;-22.7636451587144];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

Centers = [-91.323217554492 56.5125589235787 0;
    -90.0309018871325 58.1869429252807 0;
    -89.7989171823793 58.2849961987344 0;
    -87.1000434972013 58.288571578787 0];
marking = laneMarking('Unmarked');
laneSpecification = lanespec(1, 'Width', 3.5, 'Marking', marking);
headings = [81.7645762796701;22.912384745621;22.9123847456213;-22.7605776651717];
road(rg, Centers, 'Lanes', laneSpecification, 'Heading', headings);

roadGroup(scenario, rg);

% Add the ego vehicle
egoVehicle = vehicle(scenario, ...
    'ClassID', 1, ...
    'Position', [-56.7 -7.1 0], ...
    'Mesh', driving.scenario.carMesh, ...
    'Name', 'car_058');
waypoints = [-56.7 -7.1 0;
    -48.5 -7.6 0;
    -41.9 -8.1 0;
    -35.6 -8.2 0;
    -28.3 -8.4 0;
    -22.2 -8.7 0;
    -15.1 -9.4 0;
    -13.8 -10.9 0;
    -12.8 -13.5 0;
    -14 -17.3 0;
    -14.8 -23.1 0;
    -15.7 -27.1 0;
    -16.5 -31.9 0];
speed = [30;30;30;30;30;30;30;30;30;30;30;30;30];
trajectory(egoVehicle, waypoints, speed);

% Add the non-ego actors
pedestrian_001 = actor(scenario, ...
    'ClassID', 4, ...
    'Length', 0.24, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [-6.5 -19.9 0], ...
    'RCSPattern', [-8 -8;-8 -8], ...
    'Mesh', driving.scenario.pedestrianMesh, ...
    'Name', 'pedestrian_001');
waypoints = [-6.5 -19.9 0;
    -6 -17.4 0;
    -6.4 -15.4 0;
    -9 -13.9 0;
    -11.4 -13.7 0;
    -13.5 -13.8 0;
    -16.5 -13.8 0;
    -18.8 -13.8 0;
    -21.6 -13.3 0;
    -24.2 -13.6 0;
    -27 -13.5 0];
speed = [1.5;1.5;1.5;1.5;1.5;1.5;1.5;1.5;1.5;1.5;1.5];
trajectory(pedestrian_001, waypoints, speed);

vehicle(scenario, ...
    'ClassID', 2, ...
    'Length', 8.2, ...
    'Width', 2.5, ...
    'Height', 3.5, ...
    'Position', [9.7 6.2 0], ...
    'Mesh', driving.scenario.truckMesh, ...
    'Name', 'truck_001');

